!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._elementSelector=n.elementSelector,this._cardSelector=n.cardSelector,this._likeSelector=n.likeSelector,this._likeCounterSelector=n.likeCounterSelector,this._likedClass=n.likedClass,this._imageSelector=n.imageSelector,this._removeSelector=n.removeSelector,this._removeVisibleClass=n.removeVisibleClass,this._nameSelector=n.nameSelector,this._link=t.link,this._name=t.name,this._likes=t.likes,this._id=t._id,this._owner=t.owner,this._createdAt=t.createdAt,this._handleCardClick=o.handleCardClick,this._handleRemoveClick=o.handleRemoveClick,this._handleLikeClick=o.handleLikeClick}var t,n,r;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(this._elementSelector).cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(this._imageSelector).addEventListener("click",(function(){e._handleCardClick(e._name,e._link)})),this._element.querySelector(this._removeSelector).addEventListener("click",(function(){e._handleRemoveClick()})),this._element.querySelector(this._likeSelector).addEventListener("click",(function(t){e._handleLikeClick(e._id)}))}},{key:"hideCard",value:function(){this._element.remove(),this._element=null}},{key:"isLiked",value:function(e){return this._likes.some((function(t){return t._id===e}))}},{key:"renderLike",value:function(e){this.isLiked(e)?this._element.querySelector(this._likeSelector).classList.add(this._likedClass):this._element.querySelector(this._likeSelector).classList.remove(this._likedClass),this._element.querySelector(this._likeCounterSelector).textContent=this._likes.length}},{key:"generateCard",value:function(e){this._element=this._getTemplate();var t=this._element.querySelector(this._imageSelector);return t.src=this._link,t.alt=this._name,this._element.querySelector(this._nameSelector).textContent=this._name,this._owner._id===e&&this._element.querySelector(this._removeSelector).classList.add(this._removeVisibleClass),this.renderLike(e),this._setEventListeners(),this._element}},{key:"getId",value:function(){return this._id}},{key:"setLikes",value:function(e){this._likes=e}}])&&o(t.prototype,n),r&&o(t,r),e}();function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorSelector=t.inputErrorSelector,this._inputContainerSelector=t.inputContainerSelector,this._errorClass=t.errorClass,this._formElement=n}var t,n,o;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=e.closest(this._inputContainerSelector).querySelector(this._inputErrorSelector);n.textContent=t,n.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=e.closest(this._inputContainerSelector).querySelector(this._inputErrorSelector);e.classList.remove(this._inputErrorSelector),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?(t.classList.add(this._inactiveButtonClass),t.setAttribute("disabled",!0)):(t.classList.remove(this._inactiveButtonClass),t.removeAttribute("disabled"))}},{key:"_setEventListeners",value:function(){var e=this,t=Array.from(this._formElement.querySelectorAll(this._inputSelector)),n=this._formElement.querySelector(this._submitButtonSelector);this._toggleButtonState(t,n),t.forEach((function(o){o.addEventListener("input",(function(){e._checkInputValidity(o),e._toggleButtonState(t,n)}))}))}},{key:"_checkButtonState",value:function(){var e=Array.from(this._formElement.querySelectorAll(this._inputSelector)),t=this._formElement.querySelector(this._submitButtonSelector);this._toggleButtonState(e,t)}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}},{key:"resetValidation",value:function(){var e=this;Array.from(this._formElement.querySelectorAll(this._inputErrorSelector)).forEach((function(t){t.textContent="",t.classList.remove(e._errorClass)})),this._checkButtonState()}}])&&i(t.prototype,n),o&&i(t,o),e}();function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(t,n){var o=t.items,r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=o,this._renderer=r,this._containerElement=document.querySelector(n)}var t,n,o;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e,t){t?this._containerElement.prepend(e):this._containerElement.append(e)}}])&&c(t.prototype,n),o&&c(t,o),e}(),a=".popup__form-container",s={inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_disabled",inputErrorSelector:".popup__input-error",inputContainerSelector:".popup__form-field",errorClass:"popup__input-error_active"};function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var p=function(){function e(t){var n=t.popupSelector,o=t.closeButtonSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(n),this._closeButton=this._popup.querySelector(o),this._handleEscClose=function(e){27===e.keyCode&&this.close()}.bind(this)}var t,n,o;return t=e,(n=[{key:"_handleOutsideClickClose",value:function(e){e.target.closest(".popup__form-container")||e.target.classList.contains("popup__close-button")||this.close()}},{key:"setEventListeners",value:function(){var e=this;this._closeButton.addEventListener("click",(function(){e.close()})),this._popup.addEventListener("mousedown",(function(t){e._handleOutsideClickClose(t)}))}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}}])&&f(t.prototype,n),o&&f(t,o),e}();function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=b(e);if(t){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,o,r=y(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,{popupSelector:e.popupSelector,closeButtonSelector:e.closeButtonSelector}))._image=t._popup.querySelector(e.popupImageSelector),t._imageName=t._popup.querySelector(e.popupImageNameSelector),t}return t=i,(n=[{key:"open",value:function(e,t){this._image.src=t,this._image.alt=e,this._imageName.textContent=e,m(b(i.prototype),"open",this).call(this)}}])&&h(t.prototype,n),o&&h(t,o),i}(p);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,t,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=j(e);if(t){var r=j(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(i,e);var t,n,o,r=w(i);function i(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(o=r.call(this,{popupSelector:e.popupSelector,closeButtonSelector:e.closeButtonSelector}))._submitHandler=t,o._openHandler=n,o._inputList=Array.from(o._popup.querySelectorAll(e.formInputSelector)),o._form=o._popup.querySelector(e.formSelector),o._submitButton=o._popup.querySelector(e.submitButtonSelector),o._submitDefaultText=o._submitButton.textContent,o}return t=i,(n=[{key:"_getInputValues",value:function(){return this._inputList.reduce((function(e,t){return e[t.name]=t.value,e}),{})}},{key:"_setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"setEventListeners",value:function(){var e=this;C(j(i.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){e._submitHandler(t,e._getInputValues())}))}},{key:"editSubmitText",value:function(e){this._submitButton.textContent=e}},{key:"resetSubmitText",value:function(){this._submitButton.textContent=this._submitDefaultText}},{key:"open",value:function(e){e&&this._setInputValues(e),this._openHandler&&this._openHandler(),C(j(i.prototype),"open",this).call(this)}}])&&g(t.prototype,n),o&&g(t,o),i}(p);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function B(e,t,n){return(B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=R(e);if(t){var r=R(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(i,e);var t,n,o,r=x(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=r.call(this,{popupSelector:e.popupSelector,closeButtonSelector:e.closeButtonSelector}))._submitHandler=t,n._form=n._popup.querySelector(e.formSelector),n._submitButton=n._popup.querySelector(e.submitButtonSelector),n._submitDefaultText=n._submitButton.textContent,n}return t=i,(n=[{key:"setEventListeners",value:function(){var e=this;B(R(i.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){e._submitHandler(t,e._confirmParam)}))}},{key:"editSubmitText",value:function(e){this._submitButton.textContent=e}},{key:"resetSubmitText",value:function(){this._submitButton.textContent=this._submitDefaultText}},{key:"open",value:function(e){this._confirmParam=e,B(R(i.prototype),"open",this).call(this)}}])&&I(t.prototype,n),o&&I(t,o),i}(p);function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var U=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(t.nameSelector),this._aboutElement=document.querySelector(t.aboutSelector),this._avatarElement=document.querySelector(t.avatarSelector),this._name=n.name,this._about=n.about,this._id=n._id,this._avatar=n.avatar,this._cohort=n.cohort,this._renderInfo()}var t,n,o;return t=e,(n=[{key:"_renderInfo",value:function(){this._nameElement.textContent=this._name,this._aboutElement.textContent=this._about,this._avatarElement.src=this._avatar}},{key:"getUserInfo",value:function(){return{name:this._name,about:this._about,_id:this._id,avatar:this._avatar,cohort:this._cohort}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about;this._name=t,this._about=n,this._renderInfo()}},{key:"getUserId",value:function(){return this._id}},{key:"setUserAvatar",value:function(e){this._avatar=e,this._renderInfo()}},{key:"getUserAvatar",value:function(){return this._avatar}}])&&D(t.prototype,n),o&&D(t,o),e}();function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var G,z,J=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t,this._headers=n}var t,n,o;return t=e,(n=[{key:"_fetchApi",value:function(e,t,n,o){var r={method:t,headers:H(H({},this._headers),n)};return o&&(r.body=JSON.stringify(o)),fetch("".concat(this._baseUrl).concat(e),r).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status," - ").concat(e.statusText))}))}},{key:"getInitialsCards",value:function(){return this._fetchApi("/cards","GET")}},{key:"postCard",value:function(e){return this._fetchApi("/cards","POST",{"Content-Type":"application/json"},e)}},{key:"removeCard",value:function(e){return this._fetchApi("/cards/".concat(e),"DELETE")}},{key:"likeCard",value:function(e){return this._fetchApi("/cards/likes/".concat(e),"PUT")}},{key:"unlikeCard",value:function(e){return this._fetchApi("/cards/likes/".concat(e),"DELETE")}},{key:"getUserInfo",value:function(){return this._fetchApi("/users/me","GET")}},{key:"editUserInfo",value:function(e){return this._fetchApi("/users/me","PATCH",{"Content-Type":"application/json"},e)}},{key:"editAvatar",value:function(e){return this._fetchApi("/users/me/avatar","PATCH",{"Content-Type":"application/json"},{avatar:e})}}])&&M(t.prototype,n),o&&M(t,o),e}(),F=document.querySelector(".profile__edit-button"),K=document.querySelector(".profile__add-button"),Q=document.querySelector(".profile__avatar-edit"),W=document.forms["edit-form"],X=document.forms["add-form"],Y=document.forms["update-avatar-form"],Z=new J("https://mesto.nomoreparties.co/v1/cohort-13",{authorization:"d0402095-4250-4903-b400-52c8ec468fa5"}),$=new u(s,W),ee=new u(s,X),te=new u(s,Y),ne=new S({popupSelector:".popup_image-preview",closeButtonSelector:".popup__close-button",popupImageSelector:".popup__image",popupImageNameSelector:".popup__image-name"}),oe=function(e){(z=new l({items:e,renderer:function(e){ie(e)}},".elements")).renderItems()},re=function(e){console.log(e)};function ie(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new r(e,{cardSelector:"#card-template",likeSelector:".element__like",likedClass:"element__like_liked",imageSelector:".element__image",removeSelector:".element__remove",removeVisibleClass:"element__remove_visible",nameSelector:".element__name",likeCounterSelector:".element__like-counter",elementSelector:".element"},{handleCardClick:function(e,t){ne.open(e,t)},handleRemoveClick:function(){le.open(n)},handleLikeClick:function(){(n.isLiked(G.getUserId())?Z.unlikeCard(n.getId()):Z.likeCard(n.getId())).then((function(e){n.setLikes(e.likes),n.renderLike(G.getUserId())})).catch((function(e){console.log(e)}))}}),o=n.generateCard(G.getUserId());z.addItem(o,t)}var ue=new L({popupSelector:".popup_add-form",closeButtonSelector:".popup__close-button",formSelector:a,formInputSelector:".popup__input",submitButtonSelector:".popup__submit-button"},(function(e,t){e.preventDefault(),ue.editSubmitText("Сохранение..."),Z.postCard(t).then((function(e){ie(e,!0)})).catch((function(e){console.log(e)})).finally((function(){ue.close(),ue.resetSubmitText()}))}),(function(){ee.resetValidation()})),ce=new L({popupSelector:".popup_edit-form",closeButtonSelector:".popup__close-button",formSelector:a,formInputSelector:".popup__input",submitButtonSelector:".popup__submit-button"},(function(e,t){e.preventDefault(),ce.editSubmitText("Сохранение..."),Z.editUserInfo(t).then((function(){G.setUserInfo(t)})).catch((function(e){console.log(e)})).finally((function(){ce.close(),ce.resetSubmitText()}))}),(function(){$.resetValidation()})),le=new A({popupSelector:".popup_confirm",closeButtonSelector:".popup__close-button",formSelector:a,submitButtonSelector:".popup__submit-button"},(function(e,t){!function(e,t){e.preventDefault(),le.editSubmitText("Сохранение..."),Z.removeCard(t.getId()).then((function(){t.hideCard()})).catch((function(e){console.log(e)})).finally((function(){le.close(),le.resetSubmitText()}))}(e,t)})),ae=new L({popupSelector:".popup_update-avatar",closeButtonSelector:".popup__close-button",formSelector:a,formInputSelector:".popup__input",submitButtonSelector:".popup__submit-button"},(function(e,t){var n=t.link;e.preventDefault(),ae.editSubmitText("Сохранение..."),Z.editAvatar(n).then((function(){G.setUserAvatar(n)})).catch((function(e){console.log(e)})).finally((function(){ae.close(),ae.resetSubmitText()}))}),(function(){te.resetValidation()}));ne.setEventListeners(),ue.setEventListeners(),ce.setEventListeners(),le.setEventListeners(),ae.setEventListeners(),F.addEventListener("click",(function(){var e=G.getUserInfo();ce.open(e)})),K.addEventListener("click",(function(){ue.open({name:"",link:""})})),Q.addEventListener("click",(function(){ae.open({link:G.getUserAvatar()})})),$.enableValidation(),ee.enableValidation(),te.enableValidation(),Z.getUserInfo().then((function(e){!function(e){G=new U({nameSelector:".profile__name",aboutSelector:".profile__position",avatarSelector:".profile__avatar"},e)}(e),Z.getInitialsCards().then(oe).catch(re)})).catch((function(e){console.log(e)}))}]);